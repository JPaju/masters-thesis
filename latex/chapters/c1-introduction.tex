\chapter{Introduction} \label{Introduction}
The theoretical foundations of functional programming date back to almost a hundred years, when lambda calculus was invented in the 1930s. Functional programming languages have not became mainstream, all of today's most widely used programming languages, as ranked by TIOBE Index~\cite{tiobe-index}, are fundamentally imperative. Many functional concepts, however, have been recognized to be valuable in modern software development, and as a result we have seen a wider industry adoption of these concepts in the recent years. Features characteristic of functional languages, like immutability, lambdas and higher-order functions, have found their way to imperative and object-oriented mainstream languages like JavaScript, Python, Java, and C\#. React and Angular, the most popular front-end frameworks currently, rely on immutability in their change detection algorithms. Many imperative languages provide, for example, a collection API that is built around higher-order functions to transform and filter the elements of a collection. 

Functional programming promises case of reasoning about program behavior, immutability gives referential transparency and equational reasoning, and composability. These functional concepts are well-suited for concurrency and modeling complex business logic, which are the core of many modern applications. However, in order for an application to be practically useful, it must also communicate with the external world. This communication, such as database calls, interacting with the file system, making requests over the network, user interaction or displaying information in the user interface, is effectful by nature.

\todo{Tuo ilmi että tärkeitä aspekteja sovelluskehityksessä on modulaarisuus, kyky kehittää uusia ominaisuuksia ja muuttaa olemassa olevia ominaisuuksia}

\todo{Mainitse tässä mitä referential transparency tarkoittaa ja miksi se on tärkeää?}

\todo{Kerro että olen huomannut akatemiassa olevan ratkaisuja useaan ongelmaan joita alalla on, mutta tuntuu ettei ratkaisut siirry akatemiasta alalle}

Current mainstream languages use imperative programming in those parts of applications that communicate with the external world. These parts of applications do not benefit from the advantages if functional programming, like composability, modularity, and easy refactoring. In purely functional programming, side effects are modeled in a referentially transparent way where combining side effects is convenient, and refactoring can be guaranteed not to change the meaning of the program. The difference with imperative languages is that instead of \textit{performing} side effects, the program \textit{describes} them, and they are executed later by a specific runtime. Programming in a style where any statement can perform arbitrary side effects is known to produce programs that are error prone and difficult to maintain.~\cite[Chapter~3]{sicp}

This thesis focuses on Scala~\cite{scala}, a high level, statically typed programming language that is both functional and object-oriented. Functional programming is the recommended style of programming in Scala, even though the language permits an imperative style of programming. For example, variables and collections are immutable by default, but mutable counterparts also exist. Scala has many advanced features like higher-kinded types, contra- and covariance, extension methods, pattern matching, lazy evaluation, algebraic data types, term inference, and syntax for monadic computations.

ZIO~\cite{zio} is an open-source Scala library for modeling asynchronous, concurrent and possibly side-effecting programs in a purely functional way. The first stable release of the library took place in the summer of 2020, so ZIO is quite new. Nevertheless, many large companies, including Adidas, DHL, eBay and Zalando are using ZIO in production. There is also a very active and quickly expanding ecosystem around ZIO, which has libraries and interoperability packages with other libraries and ecosystems.

\todo{Pitäisikö mainita mitkä versiot käytössä? (Scala, ZIO, Unison, Koka}
\todo{Listaa lyhyesti luvut ja mitä niissä käsitellään}
This thesis studies theoretical foundations of effect systems and ways to program with side effects in a purely functional context. It discusses pros and cons of these techniques, and takes a deeper look into ZIO. \rly{A practical part of the thesis includes designing and implementing a small application using ZIO.}

% TODO Tuo selkeämmin ilmi että työ käsittelee vain staattisesti tyypitettyjä kieliä

\begin{itemize}
    \item Research questions ?

    \item Kontribuutiot
    \begin{itemize}
        \item Mitä rakennettiin?
        \item Miten rakennettiin?
    \end{itemize}
\end{itemize}
